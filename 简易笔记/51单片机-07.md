
## 第16章 IIC 协议

### 16.1 概述

```
1. 全称：Inter-Integrated Circuit
2. 特点：串行、同步、半双工
3. 信号线： SCL（时钟线）、SDA（数据线）
```

### 16.2 协议-完整通信流程

```
1. 主设备起始信号
2. 主设备发出 从设备地址+读写标记
3. 主设备收到从设备的应答信号
4. 主设备可以向从设备发送数据 或者 接收从设备发送的数据
5. 收到信息的一方要发出 ACK 信号
6. 主设备发出结束信号
```



 

## 第17章 EEPROM

### 17.1 EEPROM 概述

#### ① AT24C02CN

```
1. 设备地址： 1010 + E2、E1、E0
2. 容量：256字节
3. 内部结构：分为16个Page，每个Page分为16个字（内存单元、1字节）； 每个字（内存单元）都可以被寻址
```

#### ② 写操作

```
1. byte write
2. page write
```

> EEPROM 检测到IIC的结束信号，才开始进入写周期，以Page为单位写，本产品需要 3ms; 写的期间不会接收任何数据。

#### ③ 读操作

  ```
1. current read
	读取地址寄存器所记录的地址处的数据
2. Random Read
	读取指定地址的数据 （第一步：伪写操作，修改地址寄存器； 第二步：读取地址寄存器中地址的数据）
3. Sequential Read
	读取连续数据（可以指定地址，也可以地址寄存器的地址）
  ```







## 附录

### 相关单词

```
Integrated Circuit	集成电路
Inter	在...之间
Acknowledge	告知收到
Electrically 电
Erasable 可擦除
Programmable 可编程
Current	当前的
Random 随机的
Sequential 连续的
Dummy 假的
```

### 51扩展板引脚参考

| 引脚                   | 对应模块                               |
| ---------------------- | -------------------------------------- |
| P00 ~ P01              | 流水灯 /  数码管段选                   |
| P10 | 595 SER输入 |
| P11 | 595 RCK输入 |
| P12 | 595 SCK输入 |
| P13 ~ P15              | 数码管位选                             |
| P16 | I²C 数据线 |
| P17 | I²C 时钟线 |
| P20 ~ P23				 | 矩阵按键 1 ~ 4 行	|
| P24 ~ P27					|矩阵按键 1 ~ 4 列 					|
| P30/RxD | 串口数据接收端 |
| P31/TxD | 串口数据发送端 |
| P32                    | 独立按键SW3 / 外部中断0 / Timer0计数启动  |
| P33                    | 独立按键SW4 / 外部中断1 / Timer1计数启动  |
| P34                    | 流水灯开关(1开) /  Timer0脉冲源     |
| P35 | Timer1脉冲源 / 点阵LED开关(0开) |
| P36                    | 数码管开关(0开)                  |
| P42 				| 独立按键SW1 / 外部中断3     |
| P43 | 独立按键 SW2 / 外部中断2 |
| P46                    | 蜂鸣器                                 |





