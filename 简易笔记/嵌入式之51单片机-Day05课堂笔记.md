
## 第15章 点阵LED

### 15.1 硬件电路设计

**8×8 LED 点阵屏：**

```
595移位器的八个输出连点阵屏的每行 （阳极）

P00~P07 连点阵屏的每列（阴极）
```

**74HC595：**

```
SER	数据输入
SCK 移位寄存器时钟，上升沿触发
RCK 存储寄存器时钟，上升沿触发
G#  输出使能，低电平有效

对应存储寄存器中的每个位，QA是低位，QH是高位
QA  
QB
QC
QD
QE
QF
QG
QH
```

### 15.2 点阵LED静态显示

### 15.3 点阵LED滚动显示



## 第16章 UART通信

### 16.1 通信简介

#### ① 串行通信和并行通信

```
串行：使用一根数据线逐位传输
并行：使用多根数据线同时传输
```

|                | **串行** | **并行** |
| -------------- | -------- | -------- |
| **传输速率**   | 低       | 高       |
| **硬件成本**   | 低       | 高       |
| **抗干扰能力** | 高       | 低       |
| **通讯距离**   | 高       | 低       |

#### ② 单工通信和双工通信

```
单工： 数据传输方向是单向的

双工： 数据传输方向是双向的
	半双工：发送和接收不能同时进行
	全双工：发送和接收可以同时进行
```

#### ③ 同步通信和异步通信

```
同步通信：需要时钟信号线，发送方和接收方频率一致
异步通信：不需要时钟信号线，发送方和接收方频率不一定一致
```



### 16.2 UART 协议介绍

#### ① UART 概述

```
全称：Universal Asynchronous Receiver/Transmitter
特点：串行、双双工、异步
```

#### ② 数据格式

```
1. 起始位，低电平
2. 数据位 (5~9位，通常8位）
3. 校验位（分为奇校验和偶校验，可省略）
4. 停止位（1到2位），高电平
```

#### ③ 发送方和接收方约定

```
1. 波特率
2. 数据位数
3. 校验位
3. 停止位
```



## 附录

### 相关单词

```
serial 			串行
parallel 		并行
simplex			单工
duplex			双工
half-duplex		半双工
full-duplex 	半双工
synchronous		同步
asynchronous	异步
universal		通用
receiver		接收器
transmitter		发射器
```

### 相关寄存器

**SCON：** Serial Control，串口控制寄存器。

**PCON：** Power Control，电源控制寄存器。

**SBUF：** Serial Buffer，串口缓冲寄存器。

### 51扩展板引脚参考

| 引脚      | 对应模块                                 |
| --------- | ---------------------------------------- |
| P00 ~ P01 | 流水灯 /  数码管段选                     |
| P10       | 595 SER输入                              |
| P11       | 595 RCK输入                              |
| P12       | 595 SCK输入                              |
| P13 ~ P15 | 数码管位选                               |
| P20 ~ P23 | 矩阵按键 1 ~ 4 行                        |
| P24 ~ P27 | 矩阵按键 1 ~ 4 列                        |
| P32       | 独立按键SW3 / 外部中断0 / Timer0计数启动 |
| P33       | 独立按键SW4 / 外部中断1 / Timer1计数启动 |
| P34       | 流水灯开关(1开) /  Timer0脉冲源          |
| P35       | Timer1脉冲源 / 点阵LED开关(0开)          |
| P36       | 数码管开关(0开)                          |
| P42       | 独立按键SW1 / 外部中断3                  |
| P43       | 独立按键 SW2 / 外部中断2                 |
| P46       | 蜂鸣器                                   |

