
## 第9章 独立按键

**硬件设计：**

```
1. P42对应SW1；P43对应SW2；P32对应SW3；P33对应SW4
2. 开关断开向单片机输入高电平；开关闭合向单片机输入低电平
```

**软件设计：**

```
第一步： 先检测按键有没有被按下
第二步： 延时10ms之后，看按键是否还处于按下状态，如果是可以认为不是抖动
第三步： 判断直到按键抬起才控制LED亮灭
```



## 第10章 矩阵按键

**硬件设计：**

```
1. P20~P23 分别接4个行； P24~P27分别接4列
2. 按键按下，同一行行所连接的引脚和同一列所连接的引脚短接
3. 单片机的两个引脚短接，一个高电平一个低电平，高电平引脚会被下拉至低电平
```

**软件设计：**

```
1. 逐行扫描： P20 ~ P23 依次置 0， 循环往复
2. 扫描到某一行的时候，检测 P24 ~ P27 引脚，引脚为 0 说明按键按下，通过分析哪一行的引脚为0， 就可以确定哪个按键
```



## 第11章 蜂鸣器

**硬件设计：**

```
P46引脚控制三极管导通，进而因而控制蜂鸣器是否通电
```

**软件设计：**

```
控制P46引脚的值，0和1之间反复跳变，控制声音频率
提高占空比调大蜂鸣器的声音
```


## 附录

### 51扩展板引脚参考

| 引脚               | 对应模块                     |
| ------------------ | ---------------------------- |
| P00 ~ P01          | 流水灯；<br>数码管段选       |
| P13 ~ P15          | 数码管位选                   |
| P34                | 流水灯开关，1开              |
| P36                | 数码管开关，0开              |
| P42、P43、P32、P33 | 独立按键：SW1、SW2、SW3、SW4 |
| P20 ~ P23          | 矩阵按键 1 ~ 4 行            |
| P24 ~ P27          | 矩阵按键 1 ~ 4 列            |
| P46                | 蜂鸣器                       |

